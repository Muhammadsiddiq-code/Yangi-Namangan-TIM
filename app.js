        // Translations
        const translations = {
            uz: {
              'title': 'PIIMA - Iqtisoslashtirilgan Ta\'lim Muassasalari Agentligi',
              'nav-about': 'Raxbariyat',
              'nav-leadership': 'Maktab haqida',
              'nav-structure': 'Tashkiliy tuzilma',
              'nav-duties': 'Vazifa va funksiyalar',
              'nav-documents': 'Hujjatlar',
              'nav-laws': 'Qonunlar',
              'nav-decisions': 'Qarorlar',
              'nav-regulations': 'Nizomlar',
              'nav-activity': 'Faoliyat',
              'nav-youth': 'Yoshlar siyosati',
              'nav-news': 'Axborot xizmati',
              'nav-news-list': 'Yangiliklar',
              'nav-announcements': 'E\'lonlar',
              'nav-media': 'Media',
              'nav-opendata': 'Ochiq ma\'lumotlar',
              'nav-contact': 'Bog\'lanish',
              'search-placeholder': 'Qidirish...',
              'stat-president': 'Prezident maktablarda',
              'stat-creative': 'Ijod maktablarida',
              'stat-specialized': 'Ixtisoslashgan maktablarda',
              'stat-participants': 'Olimpiada qatnashganlar',
              'stat-winners': 'Olimpiada g\'oliblari',
              'stat-students': 'nafar o\'quvchilar',
              'news-title': 'So\'nggi yangiliklar',
              'news-all': 'Barcha yangiliklar',
              'news1-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news1-content': 'Yangi Namangan tumani Ixtisoslashgan maktabning 10-sinf o\'quvchisi Botirsherov Abdulatif Bilim va malakalarni baholash agentligi tomonidan o\'tkazilgan chet tilini bilish darajasi sinovida (ingliz tili) ishtirok etib C1 darajasini qo\'lga kiritdi.',
              'news2-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news2-content': 'Maktabimizning 7-01-sinf o\'quvchisi Kamolboyeva Gulsanam Bilim va malakalarni baholash agentligi tomonidan o\'tkazilgan chet tilini bilish darajasi sinovida (ingliz tili) ishtirok etib B2 darajasini qo\'lga kiritdi.',
              'news3-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news3-content': 'Maktabimizning 7-01 sinf o\'quvchisi Muradullayev Zikrullo IELTS imtihonini muvafaqqiyatli topshirib 6.5 ball egasiga aylandi. Zikrullo hali yosh bo\'lishiga qaramay, o\'z oldiga ulkan marralarni qo\'ygan o\'quvchilarimizdan biri hisoblanadi.',
              'read-more': 'Batafsil',
              'schools-title': 'Bizning maktablar',
              'school1-title': 'Prezident maktablari',
              'school1-desc': 'Iqtidorli o\'quvchilar uchun zamonaviy ta\'lim standartlari asosida faoliyat yurituvchi maktablar.',
              'school2-title': 'Ijod maktablari',
              'school2-desc': 'San\'at va madaniyat sohasida iqtidorli yoshlarni qo\'llab-quvvatlash uchun tashkil etilgan maktablar.',
              'school3-title': 'Ixtisoslashgan maktablar',
              'school3-desc': 'Aniq va tabiiy fanlar bo\'yicha chuqurlashtirilgan ta\'lim beruvchi maktablar.',
              'events-title': 'Tadbirlar va e\'lonlar',
              'events-all': 'Barcha tadbirlar',
              'event1-title': 'Ochiq eshiklar kuni',
              'event1-location': 'Yangi Namangan tumani',
              'event1-desc': 'Bugun eshiklarimiz siz uchun ochiq! Ta\'lim maskanimiz bilan yaqindan tanishing, biz bilan kelajak sari birga yuring!',
              'event2-title': 'Maktab bitiruv kuni',
              'event2-location': 'Barcha maktablarda',
              'event2-desc': 'Barcha maktablarida bitiruv kuni 23-May kuni deb e\'lon qilindi. Hamma maktablada bitiruv 23-May kuni bo\'ladi',
              'event3-title': 'Xalqaro bolalar kuni',
              'event3-location': 'Respublika bo\'ylab',
              'event3-desc': 'Xalqaro bolalar kuniga bag\'ishlangan tadbirlar barcha ixtisoslashgan maktablarda tashkil etiladi.',
              'footer-title1': 'IXTISOSLASHTIRILGAN',
              'footer-title2': 'TA\'LIM MUASSASALARI',
              'footer-title3': 'AGENTLIGI MAKTABI',
              'footer-schedule': 'Ish grafigi va O\'qish grafigi:',
              'footer-workdays': 'Dushanba â€“ juma: 8:30 â€“ 17:30',
              'footer-lunch': 'Tushlik: 13:00 â€“ 14:00',
              'footer-weekend': 'Dam olish kunlari: shanba va yakshanba',
              'footer-terms': 'Ma\'lumotdan foydalanish shartlari',
              'footer-bank': 'Bank rekvizitlari',
              'footer-copyright': 'Materialdan to\'liq yoki qisman foydalanilganda, piima.uz manbasi ko\'rsatilishi shart.',
              'footer-contact': 'Aloqa ma\'lumotlari:',
              'footer-address': 'Namnagan shaxri Yangi Namangan tumani',
              'footer-trust': 'Ishonch telefoni:',
              'footer-question': 'Savol yo\'llash',
              'footer-email': 'Pochtangizni kiriting',
              'footer-subscribe': 'Obuna bo\'lish',
              'footer-facebook': '"Facebook"dagi sahifa',
              'footer-telegram': '"Telegram"dagi kanal',
              'footer-feedback': 'Qayta aloqa',
              'footer-instagram': '"Instagram"dagi kanal',
              'footer-youtube': '"Youtube"dagi kanal',
              'notification-text': 'Bizga xabar yuboring',
              'modal-title': 'Savol yo\'llash',
              'modal-name': 'Ismingiz:',
              'modal-email': 'Email:',
              'modal-phone': 'Telefon raqamingiz:',
              'modal-message': 'Xabaringiz:',
              'modal-agree': 'Shaxsiy ma\'lumotlarni qayta ishlashga roziman',
              'modal-send': 'Telegram botga yuborish',
              'subscribe-title': 'Yangiliklarimizga obuna bo\'ling',
              'toast-success': 'Muvaffaqiyatli yuborildi!',
              'cookie-text': 'Ushbu sayt cookie-fayllardan foydalanadi. Saytdan foydalanishni davom ettirish orqali siz cookie-fayllardan foydalanishga rozilik bildirasiz.',
              'cookie-accept': 'Qabul qilish'
            },
            ru: {
              'title': 'ÐŸÐ˜Ð˜ÐœÐ - ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑƒÑ‡Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹',
              'nav-about': 'ÐžÐ± Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²Ðµ',
              'nav-leadership': 'Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾',
              'nav-structure': 'ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°',
              'nav-duties': 'Ð—Ð°Ð´Ð°Ñ‡Ð¸ Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸',
              'nav-documents': 'Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹',
              'nav-laws': 'Ð—Ð°ÐºÐ¾Ð½Ñ‹',
              'nav-decisions': 'Ð ÐµÑˆÐµÐ½Ð¸Ñ',
              'nav-regulations': 'ÐŸÐ¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ',
              'nav-activity': 'Ð”ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ',
              'nav-youth': 'ÐœÐ¾Ð»Ð¾Ð´ÐµÐ¶Ð½Ð°Ñ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ°',
              'nav-news': 'Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ»ÑƒÐ¶Ð±Ð°',
              'nav-news-list': 'ÐÐ¾Ð²Ð¾ÑÑ‚Ð¸',
              'nav-announcements': 'ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ñ',
              'nav-media': 'ÐœÐµÐ´Ð¸Ð°',
              'nav-opendata': 'ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ',
              'nav-contact': 'ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹',
              'search-placeholder': 'ÐŸÐ¾Ð¸ÑÐº...',
              'stat-president': 'Ð’ Ð¿Ñ€ÐµÐ·Ð¸Ð´ÐµÐ½Ñ‚ÑÐºÐ¸Ñ… ÑˆÐºÐ¾Ð»Ð°Ñ…',
              'stat-creative': 'Ð’ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸Ñ… ÑˆÐºÐ¾Ð»Ð°Ñ…',
              'stat-specialized': 'Ð’ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… ÑˆÐºÐ¾Ð»Ð°Ñ…',
              'stat-participants': 'Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´',
              'stat-winners': 'ÐŸÐ¾Ð±ÐµÐ´Ð¸Ñ‚ÐµÐ»Ð¸ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´',
              'stat-students': 'ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð²',
              'news-title': 'ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸',
              'news-all': 'Ð’ÑÐµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸',
              'news1-title': 'Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ ÑˆÐºÐ¾Ð»Ð° Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€Ð°Ð¹Ð¾Ð½Ð°.',
              'news1-content': 'Ð£Ñ‡ÐµÐ½Ð¸Ðº 10 ÐºÐ»Ð°ÑÑÐ° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ ÑˆÐºÐ¾Ð»Ñ‹ Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€Ð°Ð¹Ð¾Ð½Ð° Ð‘Ð¾Ñ‚Ð¸Ñ€ÑˆÐµÑ€Ð¾Ð² ÐÐ±Ð´ÑƒÐ»Ð°Ñ‚Ð¸Ñ„ Ð¿Ñ€Ð¸Ð½ÑÐ» ÑƒÑ‡Ð°ÑÑ‚Ð¸Ðµ Ð² Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð·Ð½Ð°Ð½Ð¸Ñ Ð¸Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ° (Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº), Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ð¼Ð¾Ð¼ ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾Ð¼ Ð¾Ñ†ÐµÐ½ÐºÐ¸ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð¸ Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð², Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ C1.',
              'news2-title': 'Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ ÑˆÐºÐ¾Ð»Ð° Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€Ð°Ð¹Ð¾Ð½Ð°.',
              'news2-content': 'Ð£Ñ‡ÐµÐ½Ð¸Ñ†Ð° 7-01 ÐºÐ»Ð°ÑÑÐ° Ð½Ð°ÑˆÐµÐ¹ ÑˆÐºÐ¾Ð»Ñ‹ ÐšÐ°Ð¼Ð¾Ð»Ð±Ð¾ÐµÐ²Ð° Ð“ÑƒÐ»ÑŒÑÐ°Ð½Ð°Ð¼ Ð¿Ñ€Ð¸Ð½ÑÐ»Ð° ÑƒÑ‡Ð°ÑÑ‚Ð¸Ðµ Ð² Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð·Ð½Ð°Ð½Ð¸Ñ Ð¸Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ° (Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº), Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ð¼Ð¾Ð¼ ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾Ð¼ Ð¾Ñ†ÐµÐ½ÐºÐ¸ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð¸ Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð², Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð° ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ B2.',
              'news3-title': 'Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ ÑˆÐºÐ¾Ð»Ð° Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€Ð°Ð¹Ð¾Ð½Ð°.',
              'news3-content': 'Ð£Ñ‡ÐµÐ½Ð¸Ðº 7-01 ÐºÐ»Ð°ÑÑÐ° Ð½Ð°ÑˆÐµÐ¹ ÑˆÐºÐ¾Ð»Ñ‹ ÐœÑƒÑ€Ð°Ð´ÑƒÐ»Ð»Ð°ÐµÐ² Ð—Ð¸ÐºÑ€ÑƒÐ»Ð»Ð¾ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ´Ð°Ð» ÑÐºÐ·Ð°Ð¼ÐµÐ½ IELTS Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» 6.5 Ð±Ð°Ð»Ð»Ð¾Ð². Ð—Ð¸ÐºÑ€ÑƒÐ»Ð»Ð¾, Ð½ÐµÑÐ¼Ð¾Ñ‚Ñ€Ñ Ð½Ð° ÑÐ²Ð¾Ð¹ ÑŽÐ½Ñ‹Ð¹ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚, ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¾Ð´Ð½Ð¸Ð¼ Ð¸Ð· Ð½Ð°ÑˆÐ¸Ñ… ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð², Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð²ÑˆÐ¸Ñ… Ð¿ÐµÑ€ÐµÐ´ ÑÐ¾Ð±Ð¾Ð¹ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ Ñ†ÐµÐ»Ð¸.',
              'read-more': 'ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ',
              'schools-title': 'ÐÐ°ÑˆÐ¸ ÑˆÐºÐ¾Ð»Ñ‹',
              'school1-title': 'ÐŸÑ€ÐµÐ·Ð¸Ð´ÐµÐ½Ñ‚ÑÐºÐ¸Ðµ ÑˆÐºÐ¾Ð»Ñ‹',
              'school1-desc': 'Ð¨ÐºÐ¾Ð»Ñ‹, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ðµ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ‚Ð°Ð»Ð°Ð½Ñ‚Ð»Ð¸Ð²Ñ‹Ñ… ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð².',
              'school2-title': 'Ð¢Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸Ðµ ÑˆÐºÐ¾Ð»Ñ‹',
              'school2-desc': 'Ð¨ÐºÐ¾Ð»Ñ‹, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ Ñ‚Ð°Ð»Ð°Ð½Ñ‚Ð»Ð¸Ð²Ð¾Ð¹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÐ¶Ð¸ Ð² Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð° Ð¸ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ñ‹.',
              'school3-title': 'Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑˆÐºÐ¾Ð»Ñ‹',
              'school3-desc': 'Ð¨ÐºÐ¾Ð»Ñ‹, Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ðµ ÑƒÐ³Ð»ÑƒÐ±Ð»ÐµÐ½Ð½Ð¾Ðµ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼ Ð¸ ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ Ð½Ð°ÑƒÐºÐ°Ð¼.',
              'events-title': 'ÐœÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ Ð¸ Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ñ',
              'events-all': 'Ð’ÑÐµ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ',
              'event1-title': 'Ð”ÐµÐ½ÑŒ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ð´Ð²ÐµÑ€ÐµÐ¹',
              'event1-location': 'Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¸Ð¹ Ñ€Ð°Ð¹Ð¾Ð½',
              'event1-desc': 'Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð½Ð°ÑˆÐ¸ Ð´Ð²ÐµÑ€Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹ Ð´Ð»Ñ Ð²Ð°Ñ! ÐŸÐ¾Ð·Ð½Ð°ÐºÐ¾Ð¼ÑŒÑ‚ÐµÑÑŒ Ð¿Ð¾Ð±Ð»Ð¸Ð¶Ðµ Ñ Ð½Ð°ÑˆÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ ÑƒÑ‡Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼, Ð¸Ð´Ð¸Ñ‚Ðµ Ñ Ð½Ð°Ð¼Ð¸ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ!',
              'event2-title': 'Ð”ÐµÐ½ÑŒ Ð²Ñ‹Ð¿ÑƒÑÐºÐ° ÑˆÐºÐ¾Ð»Ñ‹',
              'event2-location': 'Ð’Ð¾ Ð²ÑÐµÑ… ÑˆÐºÐ¾Ð»Ð°Ñ…',
              'event2-desc': 'Ð”ÐµÐ½ÑŒ Ð²Ñ‹Ð¿ÑƒÑÐºÐ° Ð²Ð¾ Ð²ÑÐµÑ… ÑˆÐºÐ¾Ð»Ð°Ñ… Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½ Ð½Ð° 23 Ð¼Ð°Ñ. Ð’Ñ‹Ð¿ÑƒÑÐº Ð²Ð¾ Ð²ÑÐµÑ… ÑˆÐºÐ¾Ð»Ð°Ñ… ÑÐ¾ÑÑ‚Ð¾Ð¸Ñ‚ÑÑ 23 Ð¼Ð°Ñ',
              'event3-title': 'ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð´ÐµÑ‚ÐµÐ¹',
              'event3-location': 'ÐŸÐ¾ Ð²ÑÐµÐ¹ Ñ€ÐµÑÐ¿ÑƒÐ±Ð»Ð¸ÐºÐµ',
              'event3-desc': 'ÐœÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ, Ð¿Ð¾ÑÐ²ÑÑ‰ÐµÐ½Ð½Ñ‹Ðµ ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð´Ð½ÑŽ Ð´ÐµÑ‚ÐµÐ¹, Ð±ÑƒÐ´ÑƒÑ‚ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹ Ð²Ð¾ Ð²ÑÐµÑ… ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… ÑˆÐºÐ¾Ð»Ð°Ñ….',
              'footer-title1': 'Ð¡ÐŸÐ•Ð¦Ð˜ÐÐ›Ð˜Ð—Ð˜Ð ÐžÐ’ÐÐÐÐ«Ð¥',
              'footer-title2': 'ÐžÐ‘Ð ÐÐ—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬ÐÐ«Ð¥ Ð£Ð§Ð Ð•Ð–Ð”Ð•ÐÐ˜Ð™',
              'footer-title3': 'ÐÐ“Ð•ÐÐ¢Ð¡Ð¢Ð’Ðž Ð¨ÐšÐžÐ›Ð«',
              'footer-schedule': 'Ð“Ñ€Ð°Ñ„Ð¸Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¸ ÑƒÑ‡ÐµÐ±Ñ‹:',
              'footer-workdays': 'ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº â€“ Ð¿ÑÑ‚Ð½Ð¸Ñ†Ð°: 8:30 â€“ 17:30',
              'footer-lunch': 'ÐžÐ±ÐµÐ´: 13:00 â€“ 14:00',
              'footer-weekend': 'Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð½Ð¸: ÑÑƒÐ±Ð±Ð¾Ñ‚Ð° Ð¸ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ',
              'footer-terms': 'Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸',
              'footer-bank': 'Ð‘Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹',
              'footer-copyright': 'ÐŸÑ€Ð¸ Ð¿Ð¾Ð»Ð½Ð¾Ð¼ Ð¸Ð»Ð¸ Ñ‡Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð° Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ° piima.uz.',
              'footer-contact': 'ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ:',
              'footer-address': 'Ð³. ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½, Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¸Ð¹ Ñ€Ð°Ð¹Ð¾Ð½',
              'footer-trust': 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð´Ð¾Ð²ÐµÑ€Ð¸Ñ:',
              'footer-question': 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ',
              'footer-email': 'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ email',
              'footer-subscribe': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ',
              'footer-facebook': 'Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð² "Facebook"',
              'footer-telegram': 'ÐšÐ°Ð½Ð°Ð» Ð² "Telegram"',
              'footer-feedback': 'ÐžÐ±Ñ€Ð°Ñ‚Ð½Ð°Ñ ÑÐ²ÑÐ·ÑŒ',
              'footer-instagram': 'ÐšÐ°Ð½Ð°Ð» Ð² "Instagram"',
              'footer-youtube': 'ÐšÐ°Ð½Ð°Ð» Ð² "Youtube"',
              'notification-text': 'ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð½Ð°Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ',
              'modal-title': 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ',
              'modal-name': 'Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ:',
              'modal-email': 'Email:',
              'modal-phone': 'Ð’Ð°Ñˆ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°:',
              'modal-message': 'Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ:',
              'modal-agree': 'Ð¡Ð¾Ð³Ð»Ð°ÑÐµÐ½ Ð½Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…',
              'modal-send': 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Telegram Ð±Ð¾Ñ‚',
              'subscribe-title': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑˆÐ¸Ñ‚ÐµÑÑŒ Ð½Ð° Ð½Ð°ÑˆÐ¸ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸',
              'toast-success': 'Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾!',
              'cookie-text': 'Ð­Ñ‚Ð¾Ñ‚ ÑÐ°Ð¹Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ñ„Ð°Ð¹Ð»Ñ‹ cookie. ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ°Ð¹Ñ‚, Ð²Ñ‹ ÑÐ¾Ð³Ð»Ð°ÑˆÐ°ÐµÑ‚ÐµÑÑŒ Ð½Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð² cookie.',
              'cookie-accept': 'ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ'
            },
            en: {
              'title': 'PIIMA - Agency of Specialized Educational Institutions',
              'nav-about': 'About Agency',
              'nav-leadership': 'Leadership',
              'nav-structure': 'Organizational Structure',
              'nav-duties': 'Duties and Functions',
              'nav-documents': 'Documents',
              'nav-laws': 'Laws',
              'nav-decisions': 'Decisions',
              'nav-regulations': 'Regulations',
              'nav-activity': 'Activity',
              'nav-youth': 'Youth Policy',
              'nav-news': 'Information Service',
              'nav-news-list': 'News',
              'nav-announcements': 'Announcements',
              'nav-media': 'Media',
              'nav-opendata': 'Open Data',
              'nav-contact': 'Contact',
              'search-placeholder': 'Search...',
              'stat-president': 'In Presidential Schools',
              'stat-creative': 'In Creative Schools',
              'stat-specialized': 'In Specialized Schools',
              'stat-participants': 'Olympiad Participants',
              'stat-winners': 'Olympiad Winners',
              'stat-students': 'students',
              'news-title': 'Latest News',
              'news-all': 'All News',
              'news1-title': 'Yangi Namangan District Specialized School.',
              'news1-content': '10th grade student of Yangi Namangan District Specialized School Botirsherov Abdulatif participated in the foreign language proficiency test (English) conducted by the Knowledge and Skills Assessment Agency and achieved C1 level.',
              'news2-title': 'Yangi Namangan District Specialized School.',
              'news2-content': '7-01 grade student of our school Kamolboyeva Gulsanam participated in the foreign language proficiency test (English) conducted by the Knowledge and Skills Assessment Agency and achieved B2 level.',
              'news3-title': 'Yangi Namangan District Specialized School.',
              'news3-content': '7-01 grade student of our school Muradullayev Zikrullo successfully passed the IELTS exam and scored 6.5 points. Despite his young age, Zikrullo is one of our students who has set great goals for himself.',
              'read-more': 'Read More',
              'schools-title': 'Our Schools',
              'school1-title': 'Presidential Schools',
              'school1-desc': 'Schools operating on the basis of modern educational standards for talented students.',
              'school2-title': 'Creative Schools',
              'school2-desc': 'Schools established to support talented youth in the field of arts and culture.',
              'school3-title': 'Specialized Schools',
              'school3-desc': 'Schools providing in-depth education in exact and natural sciences.',
              'events-title': 'Events and Announcements',
              'events-all': 'All Events',
              'event1-title': 'Open Doors Day',
              'event1-location': 'Yangi Namangan District',
              'event1-desc': 'Today our doors are open for you! Get acquainted with our educational institution, go to the future with us!',
              'event2-title': 'School Graduation Day',
              'event2-location': 'In all schools',
              'event2-desc': 'Graduation day in all schools is announced for May 23. Graduation in all schools will be on May 23',
              'event3-title': 'International Children\'s Day',
              'event3-location': 'Throughout the republic',
              'event3-desc': 'Events dedicated to International Children\'s Day will be organized in all specialized schools.',
              'footer-title1': 'SPECIALIZED',
              'footer-title2': 'EDUCATIONAL INSTITUTIONS',
              'footer-title3': 'AGENCY SCHOOL',
              'footer-schedule': 'Work and Study Schedule:',
              'footer-workdays': 'Monday â€“ Friday: 8:30 â€“ 17:30',
              'footer-lunch': 'Lunch: 13:00 â€“ 14:00',
              'footer-weekend': 'Weekends: Saturday and Sunday',
              'footer-terms': 'Terms of Information Use',
              'footer-bank': 'Bank Details',
              'footer-copyright': 'When using the material in full or in part, it is mandatory to indicate the source piima.uz.',
              'footer-contact': 'Contact Information:',
              'footer-address': 'Namangan city, Yangi Namangan district',
              'footer-trust': 'Trust Phone:',
              'footer-question': 'Send Question',
              'footer-email': 'Enter your email',
              'footer-subscribe': 'Subscribe',
              'footer-facebook': '"Facebook" page',
              'footer-telegram': '"Telegram" channel',
              'footer-feedback': 'Feedback',
              'footer-instagram': '"Instagram" channel',
              'footer-youtube': '"Youtube" channel',
              'notification-text': 'Send us a message',
              'modal-title': 'Send Question',
              'modal-name': 'Your Name:',
              'modal-email': 'Email:',
              'modal-phone': 'Your Phone Number:',
              'modal-message': 'Your Message:',
              'modal-agree': 'I agree to the processing of personal data',
              'modal-send': 'Send to Telegram Bot',
              'subscribe-title': 'Subscribe to Our News',
              'toast-success': 'Successfully sent!',
              'cookie-text': 'This site uses cookies. By continuing to use the site, you consent to the use of cookies.',
              'cookie-accept': 'Accept'
            }
          };
          
          // Current language and theme
          let currentLang = 'uz';
          let isDarkTheme = false;
          
          document.addEventListener("DOMContentLoaded", () => {
            // Initialize theme
            initializeTheme();
            
            // Initialize language
            initializeLanguage();
            
            // Statistika raqamlarini animatsiya qilish
            function animateValue(id, start, end, duration) {
              const obj = document.getElementById(id)
              if (!obj) return
          
              let startTimestamp = null
              const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp
                const progress = Math.min((timestamp - startTimestamp) / duration, 1)
                obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString("en-US")
                if (progress < 1) {
                  window.requestAnimationFrame(step)
                }
              }
              window.requestAnimationFrame(step)
            }
          
            // Statistikalarni animatsiya qilish
            function startCountAnimation() {
              animateValue("stat1", 0, 2352, 2000)
              animateValue("stat2", 0, 1849, 2000)
              animateValue("stat3", 0, 67454, 2000)
              animateValue("stat4", 0, 42970, 2000)
              animateValue("stat5", 0, 150, 2000)
            }
          
            // Sahifa yuklanganda statistikalarni animatsiya qilish
            startCountAnimation()
          
            // Hero slider
            const Swiper = window.Swiper
            if (Swiper) {
              const heroSwiper = new Swiper(".hero-slider", {
                effect: "fade",
                speed: 1000,
                autoplay: {
                  delay: 5000,
                },
                pagination: {
                  el: ".hero-slider .swiper-pagination",
                  clickable: true,
                },
                navigation: {
                  nextEl: ".hero-slider .swiper-button-next",
                  prevEl: ".hero-slider .swiper-button-prev",
                },
              })
          
              // Tadbirlar slider
              const eventsSwiper = new Swiper(".events-slider", {
                slidesPerView: 1,
                spaceBetween: 20,
                pagination: {
                  el: ".events-slider .swiper-pagination",
                  clickable: true,
                },
                breakpoints: {
                  768: {
                    slidesPerView: 2,
                  },
                  992: {
                    slidesPerView: 3,
                  },
                },
              })
            }
          
            // Theme Toggle
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
              themeToggle.addEventListener('click', toggleTheme);
            }
          
            function initializeTheme() {
              const savedTheme = localStorage.getItem('theme');
              if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.documentElement.setAttribute('data-theme', 'dark');
                updateThemeIcon();
              }
            }
          
            function toggleTheme() {
              isDarkTheme = !isDarkTheme;
              if (isDarkTheme) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
              } else {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
              }
              updateThemeIcon();
            }
          
            function updateThemeIcon() {
              const themeIcon = themeToggle.querySelector('i');
              if (themeIcon) {
                if (isDarkTheme) {
                  themeIcon.className = 'fas fa-sun';
                } else {
                  themeIcon.className = 'fas fa-moon';
                }
              }
            }
          
            // Language System
            function initializeLanguage() {
              const savedLang = localStorage.getItem('language') || 'uz';
              currentLang = savedLang;
              updateLanguage();
              updateActiveLanguage();
            }
          
            function updateLanguage() {
              const elements = document.querySelectorAll('[data-key]');
              elements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[currentLang] && translations[currentLang][key]) {
                  if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translations[currentLang][key];
                  } else {
                    element.textContent = translations[currentLang][key];
                  }
                }
              });
              
              // Update document title
              document.title = translations[currentLang]['title'];
              
              // Update HTML lang attribute
              document.documentElement.lang = currentLang;
            }
          
            function updateActiveLanguage() {
              const languageLinks = document.querySelectorAll('[data-lang]');
              languageLinks.forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-lang') === currentLang);
              });
            }
          
            // Language switching
            const languageLinks = document.querySelectorAll("[data-lang]");
            languageLinks.forEach((link) => {
              link.addEventListener("click", function (e) {
                e.preventDefault();
                const selectedLang = this.getAttribute("data-lang");
                if (selectedLang !== currentLang) {
                  currentLang = selectedLang;
                  updateLanguage();
                  updateActiveLanguage();
                  localStorage.setItem('language', currentLang);
                }
              });
            });
          
            // Scroll effektlari
            window.addEventListener("scroll", () => {
              const header = document.getElementById("main-header")
              if (header) {
                if (window.scrollY > 50) {
                  header.classList.add("scrolled")
          
                  // Menu icon rangini o'zgartirish
                  const menuIconSpans = document.querySelectorAll(".menu-icon span")
                  menuIconSpans.forEach((span) => {
                    span.style.background = isDarkTheme ? "#f9fafb" : "#333"
                  })
                } else {
                  header.classList.remove("scrolled")
          
                  // Menu icon rangini qaytarish
                  const menuIconSpans = document.querySelectorAll(".menu-icon span")
                  menuIconSpans.forEach((span) => {
                    span.style.background = "#fff"
                  })
                }
              }
            })
          
            // Mobil menyu
            const menuIcon = document.getElementById("mobile-menu-toggle")
            const mobileMenu = document.querySelector(".mobile-menu")
          
            if (menuIcon && mobileMenu) {
              menuIcon.addEventListener("click", function () {
                this.classList.toggle("active")
                mobileMenu.classList.toggle("active")
              })
            }
          
            // Qidiruv
            const searchToggle = document.getElementById("search-toggle")
            const searchOverlay = document.querySelector(".search-overlay")
            const closeSearch = document.querySelector(".close-search")
          
            if (searchToggle && searchOverlay) {
              searchToggle.addEventListener("click", (e) => {
                e.preventDefault()
                searchOverlay.classList.add("active")
                const searchInput = document.querySelector(".search-container input")
                if (searchInput) {
                  searchInput.focus()
                }
              })
            }
          
            if (closeSearch && searchOverlay) {
              closeSearch.addEventListener("click", () => {
                searchOverlay.classList.remove("active")
              })
            }
          
            // Esc tugmasi bosilganda qidiruv oynasini yopish
            document.addEventListener("keydown", (e) => {
              if (e.key === "Escape" && searchOverlay && searchOverlay.classList.contains("active")) {
                searchOverlay.classList.remove("active")
              }
            })
          
            // Scroll down tugmasi
            const scrollDownBtn = document.querySelector(".scroll-down a")
            if (scrollDownBtn) {
              scrollDownBtn.addEventListener("click", function (e) {
                e.preventDefault()
                const targetId = this.getAttribute("href")
                const targetElement = document.querySelector(targetId)
          
                if (targetElement) {
                  window.scrollTo({
                    top: targetElement.offsetTop,
                    behavior: "smooth",
                  })
                }
              })
            }
          
            // Cookie notice
            const cookieNotice = document.getElementById("cookie-notice")
            const acceptCookiesBtn = document.getElementById("accept-cookies")
          
            // Cookie-ni tekshirish
            if (cookieNotice && !localStorage.getItem("cookiesAccepted")) {
              cookieNotice.style.display = "block"
            }
          
            if (acceptCookiesBtn && cookieNotice) {
              acceptCookiesBtn.addEventListener("click", () => {
                localStorage.setItem("cookiesAccepted", "true")
                cookieNotice.style.display = "none"
              })
            }
          
            // Modal functionality
            const contactBtn = document.getElementById("contactBtn");
            const emailBtn = document.getElementById("emailBtn");
            const subscribeBtn = document.getElementById("subscribeBtn");
            const contactModal = document.getElementById("contactModal");
            const subscribeModal = document.getElementById("subscribeModal");
            const closeModal = document.getElementById("closeModal");
            const closeSubscribeModal = document.getElementById("closeSubscribeModal");
            const notificationBar = document.getElementById("notificationBar");
            const closeNotification = document.getElementById("closeNotification");
            const contactForm = document.getElementById("contactForm");
            const subscribeForm = document.getElementById("subscribeForm");
            const toast = document.getElementById("toast");
          
            // Telegram bot settings
            const TELEGRAM_BOT_TOKEN = "7012510583:AAEjIGP-LqL75etZYOEBnvRFy_K5VAmQw3c";
            const TELEGRAM_CHAT_ID = "7116193043";
          
            // Show modals
            if (contactBtn && contactModal) {
              contactBtn.addEventListener("click", () => {
                contactModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (emailBtn && subscribeModal) {
              emailBtn.addEventListener("click", () => {
                subscribeModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (subscribeBtn && subscribeModal) {
              subscribeBtn.addEventListener("click", () => {
                subscribeModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (notificationBar && contactModal && closeNotification) {
              notificationBar.addEventListener("click", (e) => {
                if (e.target !== closeNotification) {
                  contactModal.style.display = "block";
                  document.body.style.overflow = "hidden";
                }
              });
            }
          
            // Close modals
            if (closeModal && contactModal) {
              closeModal.addEventListener("click", () => {
                contactModal.style.display = "none";
                document.body.style.overflow = "auto";
              });
            }
          
            if (closeSubscribeModal && subscribeModal) {
              closeSubscribeModal.addEventListener("click", () => {
                subscribeModal.style.display = "none";
                document.body.style.overflow = "auto";
              });
            }
          
            if (closeNotification && notificationBar) {
              closeNotification.addEventListener("click", (e) => {
                e.stopPropagation();
                notificationBar.style.display = "none";
              });
            }
          
            // Close modals when clicking outside
            window.addEventListener("click", (e) => {
              if (contactModal && e.target === contactModal) {
                contactModal.style.display = "none";
                document.body.style.overflow = "auto";
              }
              if (subscribeModal && e.target === subscribeModal) {
                subscribeModal.style.display = "none";
                document.body.style.overflow = "auto";
              }
            });
          
            // Form submissions
            if (contactForm) {
              contactForm.addEventListener("submit", (e) => {
                e.preventDefault();
          
                const nameInput = document.getElementById("name");
                const emailInput = document.getElementById("email");
                const messageInput = document.getElementById("message");
                const phoneInput = document.getElementById("phone");
          
                if (nameInput && emailInput && messageInput) {
                  const name = nameInput.value;
                  const email = emailInput.value;
                  const message = messageInput.value;
                  const phone = phoneInput ? phoneInput.value : '';
          
                  sendToTelegramBot(name, email, phone, message)
                    .then((success) => {
                      if (success) {
                        contactForm.reset();
                        if (contactModal) {
                          contactModal.style.display = "none";
                          document.body.style.overflow = "auto";
                        }
                        showToast(translations[currentLang]['toast-success']);
                      } else {
                        showToast("Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.");
                      }
                    })
                    .catch((error) => {
                      console.error("Error sending to Telegram:", error);
                      showToast("Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.");
                    });
                }
              });
            }
          
            async function sendToTelegramBot(name, email, phone, message) {
              try {
                const text = `ðŸ“¨ Yangi savol:\n\nðŸ‘¤ Ism: ${name}\nðŸ“§ Email: ${email}\nðŸ“± Telefon: ${phone || "Ko'rsatilmagan"}\n\nðŸ’¬ Xabar:\n${message}`;
                const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
          
                const response = await fetch(url, {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                  },
                  body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: text,
                    parse_mode: "HTML",
                  }),
                });
          
                const data = await response.json();
                return data.ok === true;
              } catch (error) {
                console.error("Error sending to Telegram:", error);
                return false;
              }
            }
          
            if (subscribeForm) {
              subscribeForm.addEventListener("submit", (e) => {
                e.preventDefault();
                const subscriberEmailInput = document.getElementById("subscriberEmail");
                if (subscriberEmailInput) {
                  const email = subscriberEmailInput.value;
                  console.log("Subscribe Form Submitted:", { email });
                  subscribeForm.reset();
                  if (subscribeModal) {
                    subscribeModal.style.display = "none";
                    document.body.style.overflow = "auto";
                  }
                  showToast("Siz muvaffaqiyatli obuna bo'ldingiz!");
                }
              });
            }
          
            function showToast(message) {
              if (toast) {
                const toastMessage = document.getElementById("toast-message");
                if (toastMessage) {
                  toastMessage.textContent = message;
                }
                toast.style.transform = "translateX(-50%) translateY(0)";
                toast.style.opacity = "1";
                setTimeout(() => {
                  toast.style.transform = "translateX(-50%) translateY(100px)";
                  toast.style.opacity = "0";
                }, 3000);
              }
            }
          
            // Responsive design for footer
            function adjustFooterLayout() {
              const footer = document.querySelector('footer > div:last-child > div');
              if (footer && window.innerWidth <= 768) {
                footer.style.gridTemplateColumns = '1fr';
                footer.style.gap = '30px';
              } else if (footer) {
                footer.style.gridTemplateColumns = '1fr 1fr 1fr';
                footer.style.gap = '40px';
              }
            }
          
            window.addEventListener('resize', adjustFooterLayout);
            adjustFooterLayout();
          });
          

          // chat bot





          // AI Chat Widget for PIIMA
class PIIMAChatWidget {
  constructor() {
    this.currentLang = "uz"
    this.isOpen = false
    this.isMinimized = false
    this.messageHistory = []

    this.translations = {
      uz: {
        "chat-title": "  ixtisoslasjtirilgan maktab AI ",
        "chat-status": "Onlayn",
        "chat-placeholder": "Savolingizni yozing...",
        "quick-about": "Maktab haqida",
        "quick-admission": "Qabul",
        "quick-contact": "Aloqa",
        "welcome-message": "Salom! Men PIIMA maktabining AI yordamchisiman. Sizga qanday yordam bera olaman?",
        typing: "Yozmoqda...",
      },
      ru: {
        "chat-title": "ÐŸÐ˜Ð˜ÐœÐ AI ÐŸÐ¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº",
        "chat-status": "ÐžÐ½Ð»Ð°Ð¹Ð½",
        "chat-placeholder": "ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ...",
        "quick-about": "Ðž ÑˆÐºÐ¾Ð»Ðµ",
        "quick-admission": "ÐŸÐ¾ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ",
        "quick-contact": "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",
        "welcome-message": "ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ AI Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº ÑˆÐºÐ¾Ð»Ñ‹ ÐŸÐ˜Ð˜ÐœÐ. ÐšÐ°Ðº Ñ Ð¼Ð¾Ð³Ñƒ Ð²Ð°Ð¼ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ?",
        typing: "ÐŸÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚...",
      },
      en: {
        "chat-title": "PIIMA AI Assistant",
        "chat-status": "Online",
        "chat-placeholder": "Type your question...",
        "quick-about": "About School",
        "quick-admission": "Admission",
        "quick-contact": "Contact",
        "welcome-message": "Hello! I am PIIMA school's AI assistant. How can I help you?",
        typing: "Typing...",
      },
    }

    this.responses = {
      uz: {
        salom: "Salom! Yangi Namangan Ixtisoslashtirilgan maktabiga xush kelibsiz! ðŸŽ“",
        "maktab haqida":
          "Yangi Namangan tumani - Iqtisoslashtirilgan Ta'lim Muassasalari Agentligi maktabi. Biz iqtidorli o'quvchilar uchun yuqori sifatli ta'lim beramiz. ðŸ“š\n\nðŸ« Bizda:\nâ€¢ Prezident maktablari\nâ€¢ Ijod maktablari  \nâ€¢ Ixtisoslashgan maktablar\n\nBatafsil ma'lumot uchun saytimizni ko'ring!",
        qabul:
          "Qabul jarayoni haqida ma'lumot:\n\nðŸ“… Qabul muddati: Har yili may-iyun oylari\nðŸ“ Kerakli hujjatlar:\nâ€¢ Ariza\nâ€¢ Pasport nusxasi yoki metirka\nâ€¢ Diplom/attestat\nâ€¢ Tibbiy ma'lumotnoma\n\nðŸ“ž Qo'shimcha ma'lumot: +998 97 827 55 77",
        "bog'lanish":
          "Bizning aloqa ma'lumotlari:\n\nðŸ“ Manzil: Namangan shahar, Yangi Namangan tumani\nðŸ“ž Telefon: +998 97 827 55 77\nðŸ“§ Telegram: https://t.me/YangiNamanganTIM\nðŸŒ Sayt: https://yntimuz.vercel.app\n\nðŸ•’ Ish vaqti: Dushanbadan-Jumagacha 8:30-17:30",
        fanlar:
          "Bizda quyidagi fanlar bo'yicha chuqurlashtirilgan ta'lim beriladi:\n\nðŸ”¬ Aniq fanlar:\nâ€¢ Algebra\nâ€¢ Fizika\nâ€¢ Geometriya\nâ€¢ English\n\nðŸ’» Zamonaviy fanlar:\nâ€¢ Informatika\nâ€¢ Robotika\nâ€¢ IT texnologiyalar",
        imtiyozlar:
          "Bizning maktab imtiyozlari:\n\nðŸ† Yuqori sifatli ta'lim\nðŸŒŸ Malakali o'qituvchilar\nðŸ’» Zamonaviy jihozlar\nðŸŽ¯ Individual yondashuv\nðŸ… Olimpiada tayyorlash\nðŸŒ Xalqaro aloqalar",
        default:
          "Kechirasiz, bu savolga aniq javob bera olmadim. ðŸ˜”\n\nQo'shimcha ma'lumot uchun:\nðŸ“ž +998 97 827 55 77\nðŸ“§ info@piima.uz\n\nYoki boshqa savol bering! ðŸ˜Š",
      },
      ru: {
        Ð¿Ñ€Ð¸Ð²ÐµÑ‚: "ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑˆÐºÐ¾Ð»Ñƒ ÐŸÐ˜Ð˜ÐœÐ! ðŸŽ“",
        "Ð¾ ÑˆÐºÐ¾Ð»Ðµ":
          "ÐŸÐ˜Ð˜ÐœÐ - ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð¾ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑƒÑ‡Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹. ÐœÑ‹ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ñ‚Ð°Ð»Ð°Ð½Ñ‚Ð»Ð¸Ð²Ñ‹Ñ… ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð². ðŸ“š\n\nðŸ« Ð£ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ:\nâ€¢ ÐŸÑ€ÐµÐ·Ð¸Ð´ÐµÐ½Ñ‚ÑÐºÐ¸Ðµ ÑˆÐºÐ¾Ð»Ñ‹\nâ€¢ Ð¢Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸Ðµ ÑˆÐºÐ¾Ð»Ñ‹\nâ€¢ Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑˆÐºÐ¾Ð»Ñ‹\n\nÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð½Ð° Ð½Ð°ÑˆÐµÐ¼ ÑÐ°Ð¹Ñ‚Ðµ!",
        Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ:
          "Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ð¸:\n\nðŸ“… Ð¡Ñ€Ð¾ÐºÐ¸ Ð¿Ñ€Ð¸ÐµÐ¼Ð°: ÐœÐ°Ð¹-Ð¸ÑŽÐ½ÑŒ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð³Ð¾Ð´Ð°\nðŸ“ ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:\nâ€¢ Ð—Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ðµ\nâ€¢ ÐšÐ¾Ð¿Ð¸Ñ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚Ð°\nâ€¢ Ð”Ð¸Ð¿Ð»Ð¾Ð¼/Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ‚\nâ€¢ ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ ÑÐ¿Ñ€Ð°Ð²ÐºÐ°\n\nðŸ“ž Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ: +998 97 827 55 77",
        ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹:
          "ÐÐ°ÑˆÐ° ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ:\n\nðŸ“ ÐÐ´Ñ€ÐµÑ: Ð³. ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½, Ð¯Ð½Ð³Ð¸ ÐÐ°Ð¼Ð°Ð½Ð³Ð°Ð½ÑÐºÐ¸Ð¹ Ñ€Ð°Ð¹Ð¾Ð½\nðŸ“ž Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +998 97 827 55 77\nðŸ“§ Email: info@piima.uz\nðŸŒ Ð¡Ð°Ð¹Ñ‚: www.piima.uz\n\nðŸ•’ Ð Ð°Ð±Ð¾Ñ‡ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ: ÐŸÐ½-ÐŸÑ‚ 8:30-17:30",
        Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹:
          "Ð£ Ð½Ð°Ñ ÑƒÐ³Ð»ÑƒÐ±Ð»ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð²:\n\nðŸ”¬ Ð¢Ð¾Ñ‡Ð½Ñ‹Ðµ Ð½Ð°ÑƒÐºÐ¸:\nâ€¢ ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ°\nâ€¢ Ð¤Ð¸Ð·Ð¸ÐºÐ°\nâ€¢ Ð¥Ð¸Ð¼Ð¸Ñ\nâ€¢ Ð‘Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ñ\n\nðŸ’» Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹:\nâ€¢ Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐ°\nâ€¢ Ð Ð¾Ð±Ð¾Ñ‚Ð¾Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ°\nâ€¢ IT Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸",
        Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:
          "ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ð½Ð°ÑˆÐµÐ¹ ÑˆÐºÐ¾Ð»Ñ‹:\n\nðŸ† ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ\nðŸŒŸ ÐšÐ²Ð°Ð»Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑ‡Ð¸Ñ‚ÐµÐ»Ñ\nðŸ’» Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ\nðŸŽ¯ Ð˜Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´\nðŸ… ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ð°Ð¼\nðŸŒ ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ðµ ÑÐ²ÑÐ·Ð¸",
        default:
          "Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð½Ðµ Ð¼Ð¾Ð³Ñƒ Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° ÑÑ‚Ð¾Ñ‚ Ð²Ð¾Ð¿Ñ€Ð¾Ñ. ðŸ˜”\n\nÐ”Ð»Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸:\nðŸ“ž +998 97 827 55 77\nðŸ“§ info@piima.uz\n\nÐ˜Ð»Ð¸ Ð·Ð°Ð´Ð°Ð¹Ñ‚Ðµ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ! ðŸ˜Š",
      },
      en: {
        hello: "Hello! Welcome to PIIMA school! ðŸŽ“",
        "about school":
          "PIIMA - Agency of Specialized Educational Institutions. We provide quality education for talented students. ðŸ“š\n\nðŸ« We have:\nâ€¢ Presidential schools\nâ€¢ Creative schools\nâ€¢ Specialized schools\n\nDetailed information on our website!",
        admission:
          "Admission information:\n\nðŸ“… Application period: May-June each year\nðŸ“ Required documents:\nâ€¢ Application\nâ€¢ Passport copy\nâ€¢ Diploma/certificate\nâ€¢ Medical certificate\n\nðŸ“ž Additional info: +998 97 827 55 77",
        contact:
          "Our contact information:\n\nðŸ“ Address: Namangan city, Yangi Namangan district\nðŸ“ž Phone: +998 97 827 55 77\nðŸ“§ Email: info@piima.uz\nðŸŒ Website: www.piima.uz\n\nðŸ•’ Working hours: Mon-Fri 8:30-17:30",
        subjects:
          "We provide in-depth education in:\n\nðŸ”¬ Exact sciences:\nâ€¢ Mathematics\nâ€¢ Physics\nâ€¢ Chemistry\nâ€¢ Biology\n\nðŸ’» Modern subjects:\nâ€¢ Computer Science\nâ€¢ Robotics\nâ€¢ IT Technologies",
        advantages:
          "Our school advantages:\n\nðŸ† Quality education\nðŸŒŸ Qualified teachers\nðŸ’» Modern equipment\nðŸŽ¯ Individual approach\nðŸ… Olympiad preparation\nðŸŒ International connections",
        default:
          "Sorry, I cannot give an exact answer to this question. ðŸ˜”\n\nFor additional information:\nðŸ“ž +998 97 827 55 77\nðŸ“§ info@piima.uz\n\nOr ask another question! ðŸ˜Š",
      },
    }

    this.init()
  }

  init() {
    this.bindEvents()
    this.showWelcomeMessage()
    this.updateLanguage()
  }

  bindEvents() {
    // Chat toggle
    document.getElementById("chat-toggle").addEventListener("click", () => {
      this.toggleChat()
    })

    // Chat controls
    document.getElementById("chat-close").addEventListener("click", () => {
      this.closeChat()
    })

    document.getElementById("chat-minimize").addEventListener("click", () => {
      this.minimizeChat()
    })

    // Message sending
    document.getElementById("send-message").addEventListener("click", () => {
      this.sendMessage()
    })

    document.getElementById("message-input").addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        this.sendMessage()
      }
    })

    // Quick actions
    document.querySelectorAll(".quick-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const message = btn.getAttribute("data-message")
        this.sendQuickMessage(message)
      })
    })

    // Language switching
    document.querySelectorAll(".lang-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const lang = btn.getAttribute("data-lang")
        this.switchLanguage(lang)
      })
    })

    // Show language selector on long press
    let longPressTimer
    document.getElementById("chat-toggle").addEventListener("mousedown", () => {
      longPressTimer = setTimeout(() => {
        this.showLanguageSelector()
      }, 1000)
    })

    document.getElementById("chat-toggle").addEventListener("mouseup", () => {
      clearTimeout(longPressTimer)
    })

    // Hide language selector when clicking outside
    document.addEventListener("click", (e) => {
      if (!e.target.closest(".chat-lang-selector") && !e.target.closest("#chat-toggle")) {
        this.hideLanguageSelector()
      }
    })
  }

  toggleChat() {
    const chatWindow = document.getElementById("chat-window")
    const chatToggle = document.getElementById("chat-toggle")
    const notification = document.getElementById("chat-notification")

    if (this.isOpen) {
      this.closeChat()
    } else {
      chatWindow.classList.add("show")
      chatToggle.classList.add("active")
      notification.style.display = "none"
      this.isOpen = true
      this.isMinimized = false

      // Focus input
      setTimeout(() => {
        document.getElementById("message-input").focus()
      }, 300)
    }
  }

  closeChat() {
    const chatWindow = document.getElementById("chat-window")
    const chatToggle = document.getElementById("chat-toggle")

    chatWindow.classList.remove("show")
    chatToggle.classList.remove("active")
    this.isOpen = false
    this.isMinimized = false
  }

  minimizeChat() {
    const chatWindow = document.getElementById("chat-window")

    if (this.isMinimized) {
      chatWindow.classList.remove("minimized")
      this.isMinimized = false
    } else {
      chatWindow.classList.add("minimized")
      this.isMinimized = true
    }
  }

  sendMessage() {
    const input = document.getElementById("message-input")
    const message = input.value.trim()

    if (!message) return

    this.addMessage(message, "user")
    input.value = ""

    // Show typing indicator
    this.showTypingIndicator()

    // Simulate AI response delay
    setTimeout(
      () => {
        this.hideTypingIndicator()
        const response = this.getAIResponse(message)
        this.addMessage(response, "bot")
      },
      1000 + Math.random() * 2000,
    )
  }

  sendQuickMessage(message) {
    this.addMessage(message, "user")

    setTimeout(() => {
      const response = this.getAIResponse(message)
      this.addMessage(response, "bot")
    }, 500)
  }

  addMessage(text, sender) {
    const messagesContainer = document.getElementById("chat-messages")
    const messageDiv = document.createElement("div")
    messageDiv.className = `message ${sender}`

    if (sender === "bot") {
      messageDiv.innerHTML = `
                <div class="bot-avatar-small">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">${text}</div>
            `
    } else {
      messageDiv.innerHTML = `
                <div class="message-content">${text}</div>
            `
    }

    messagesContainer.appendChild(messageDiv)
    messagesContainer.scrollTop = messagesContainer.scrollHeight

    // Store message in history
    this.messageHistory.push({ text, sender, timestamp: Date.now() })
  }

  showTypingIndicator() {
    const messagesContainer = document.getElementById("chat-messages")
    const typingDiv = document.createElement("div")
    typingDiv.className = "message bot typing-message"
    typingDiv.innerHTML = `
            <div class="bot-avatar-small">
                <i class="fas fa-robot"></i>
            </div>
            <div class="typing-indicator">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        `

    messagesContainer.appendChild(typingDiv)
    messagesContainer.scrollTop = messagesContainer.scrollHeight
  }

  hideTypingIndicator() {
    const typingMessage = document.querySelector(".typing-message")
    if (typingMessage) {
      typingMessage.remove()
    }
  }

  getAIResponse(message) {
    const lowerMessage = message.toLowerCase()
    const responses = this.responses[this.currentLang]

    // Check for specific keywords
    for (const key in responses) {
      if (key !== "default" && lowerMessage.includes(key)) {
        return responses[key]
      }
    }

    // Check for common greetings
    const greetings = ["salom", "hello", "Ð¿Ñ€Ð¸Ð²ÐµÑ‚", "hi", "assalomu alaykum"]
    if (greetings.some((greeting) => lowerMessage.includes(greeting))) {
      return responses["salom"] || responses["hello"] || responses["Ð¿Ñ€Ð¸Ð²ÐµÑ‚"]
    }

    // Check for school-related keywords
    const schoolKeywords = ["maktab", "school", "ÑˆÐºÐ¾Ð»Ð°", "ta'lim", "Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ", "education"]
    if (schoolKeywords.some((keyword) => lowerMessage.includes(keyword))) {
      return responses["maktab haqida"] || responses["about school"] || responses["Ð¾ ÑˆÐºÐ¾Ð»Ðµ"]
    }

    // Check for admission keywords
    const admissionKeywords = ["qabul", "admission", "Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ", "kirish", "enter"]
    if (admissionKeywords.some((keyword) => lowerMessage.includes(keyword))) {
      return responses["qabul"] || responses["admission"] || responses["Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ"]
    }

    // Check for contact keywords
    const contactKeywords = ["aloqa", "contact", "ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚", "telefon", "phone", "Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½"]
    if (contactKeywords.some((keyword) => lowerMessage.includes(keyword))) {
      return responses["bog'lanish"] || responses["contact"] || responses["ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹"]
    }

    return responses["default"]
  }

  showWelcomeMessage() {
    setTimeout(() => {
      const welcomeMessage = this.translations[this.currentLang]["welcome-message"]
      this.addMessage(welcomeMessage, "bot")
    }, 1000)
  }

  switchLanguage(lang) {
    this.currentLang = lang
    this.updateLanguage()
    this.updateActiveLanguage()
    this.hideLanguageSelector()
  }

  updateLanguage() {
    const elements = document.querySelectorAll("[data-key]")
    elements.forEach((element) => {
      const key = element.getAttribute("data-key")
      if (this.translations[this.currentLang] && this.translations[this.currentLang][key]) {
        element.textContent = this.translations[this.currentLang][key]
      }
    })

    // Update placeholder
    const input = document.getElementById("message-input")
    if (input) {
      input.placeholder = this.translations[this.currentLang]["chat-placeholder"]
    }
  }

  updateActiveLanguage() {
    document.querySelectorAll(".lang-btn").forEach((btn) => {
      btn.classList.toggle("active", btn.getAttribute("data-lang") === this.currentLang)
    })
  }

  showLanguageSelector() {
    document.getElementById("chat-lang-selector").classList.add("show")
  }

  hideLanguageSelector() {
    document.getElementById("chat-lang-selector").classList.remove("show")
  }
}

// Initialize chat widget when DOM is loaded
document.addEventListener("DOMContentLoaded", () => {
  new PIIMAChatWidget()
})







// news





        // Global variables
        let allNews = [];
        let filteredNews = [];
        let currentPage = 1;
        const newsPerPage = 6;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('searchInput').addEventListener('input', debounce(filterNews, 300));
            document.getElementById('categoryFilter').addEventListener('change', filterNews);
            document.getElementById('sortFilter').addEventListener('change', filterNews);
        }

        // Load news from localStorage (admin panel data)
        function loadNews() {
            showLoading();
            
            // Simulate loading delay
            setTimeout(() => {
                // Get news from localStorage (same as admin panel)
                const newsData = localStorage.getItem('news');
                if (newsData) {
                    allNews = JSON.parse(newsData).filter(news => news.published);
                } else {
                    // Sample data if no admin data exists
                    allNews = getSampleNews();
                }
                
                filteredNews = [...allNews];
                displayFeaturedNews();
                displayNews();
                hideLoading();
            }, 500);
        }

        // Sample news data
        function getSampleNews() {
            return [
                {
                    id: 1,
                    title: "Yangi ta'lim dasturi ishga tushirildi",
                    content: "Maktablarda yangi ta'lim dasturi joriy etilmoqda. Bu dastur zamonaviy texnologiyalar va innovatsion yondashuvlarni o'z ichiga oladi. Dastur barcha yoshdagi o'quvchilar uchun mo'ljallangan va kelajakda ta'lim sifatini oshirishga qaratilgan.",
                    category: "talim",
                    author: "Administrator",
                    date: new Date().toISOString(),
                    views: 156,
                    image: "/placeholder.svg?height=200&width=400",
                    published: true
                },
                {
                    id: 2,
                    title: "Sport musobaqalari e'lon qilindi",
                    content: "Yillik sport musobaqalari uchun ro'yxatdan o'tish boshlandi. Barcha yoshdagi ishtirokchilar qatnashishlari mumkin. Musobaqalar kelgusi oy o'tkaziladi va turli sport turlarini qamrab oladi.",
                    category: "sport",
                    author: "Administrator",
                    date: new Date(Date.now() - 86400000).toISOString(),
                    views: 89,
                    image: "/placeholder.svg?height=200&width=400",
                    published: true
                },
                {
                    id: 3,
                    title: "Madaniy tadbirlar haftaligi",
                    content: "Kelgusi hafta madaniy tadbirlar haftaligi o'tkaziladi. Konsertlar, ko'rgazmalar va boshqa qiziqarli tadbirlar kutilmoqda. Barcha aholini taklif qilamiz va bepul kirish imkoniyati mavjud.",
                    category: "tadbir",
                    author: "Administrator",
                    date: new Date(Date.now() - 172800000).toISOString(),
                    views: 234,
                    image: "/placeholder.svg?height=200&width=400",
                    published: true
                },
                {
                    id: 4,
                    title: "Yangi texnologiyalar seminari",
                    content: "IT sohasidagi yangi texnologiyalar bo'yicha seminar o'tkaziladi. Mutaxassislar o'z tajribalarini bo'lishadi va zamonaviy dasturlash tillari haqida ma'lumot beradi.",
                    category: "texnologiya",
                    author: "Administrator",
                    date: new Date(Date.now() - 259200000).toISOString(),
                    views: 67,
                    image: "/placeholder.svg?height=200&width=400",
                    published: true
                },
                {
                    id: 5,
                    title: "Muhim e'lon: Yangi qoidalar",
                    content: "Barcha foydalanuvchilar uchun yangi qoidalar e'lon qilinadi. Iltimos, diqqat bilan o'qing va belgilangan muddatlarga rioya qiling.",
                    category: "elon",
                    author: "Administrator",
                    date: new Date(Date.now() - 345600000).toISOString(),
                    views: 445,
                    image: "/placeholder.svg?height=200&width=400",
                    published: true
                }
            ];
        }

        // Display featured news
        function displayFeaturedNews() {
            const featuredContainer = document.getElementById('featuredNews');
            if (filteredNews.length === 0) {
                featuredContainer.style.display = 'none';
                return;
            }

            const featuredNews = filteredNews[0]; // First news as featured
            featuredContainer.style.display = 'block';
            
            featuredContainer.innerHTML = `
                <div class="featured-card">
                    <img src="${featuredNews.image}" alt="${featuredNews.title}" class="featured-image">
                    <div class="featured-content">
                        <span class="featured-badge">Asosiy yangilik</span>
                        <h2 class="featured-title">${featuredNews.title}</h2>
                        <p class="featured-excerpt">${truncateText(featuredNews.content, 150)}</p>
                        <div class="news-meta">
                            <span class="news-date">
                                <i class="fas fa-calendar"></i>
                                ${formatDate(featuredNews.date)}
                            </span>
                            <span class="news-views">
                                <i class="fas fa-eye"></i>
                                ${featuredNews.views} ko'rishlar
                            </span>
                        </div>
                        <a href="#" class="read-more" onclick="readMore(${featuredNews.id})">
                            Batafsil o'qish
                        </a>
                    </div>
                </div>
            `;
        }

        // Display news
        function displayNews() {
            const newsGrid = document.getElementById('newsGrid');
            const noResults = document.getElementById('noResults');
            
            if (filteredNews.length === 0) {
                newsGrid.style.display = 'none';
                noResults.style.display = 'block';
                document.getElementById('pagination').style.display = 'none';
                return;
            }

            newsGrid.style.display = 'grid';
            noResults.style.display = 'none';

            // Skip first news (featured)
            const newsToShow = filteredNews.slice(1);
            const startIndex = (currentPage - 1) * newsPerPage;
            const endIndex = startIndex + newsPerPage;
            const currentNews = newsToShow.slice(startIndex, endIndex);

            newsGrid.innerHTML = currentNews.map(news => `
                <div class="news-card">
                    <img src="${news.image}" alt="${news.title}" class="news-image">
                    <div class="news-content">
                        <span class="news-category category-${news.category}">
                            ${getCategoryIcon(news.category)} ${getCategoryName(news.category)}
                        </span>
                        <h3 class="news-title">${news.title}</h3>
                        <p class="news-excerpt">${truncateText(news.content, 120)}</p>
                        <a href="#" class="read-more" onclick="readMore(${news.id})">
                            Batafsil o'qish
                        </a>
                        <div class="news-meta">
                            <span class="news-date">
                                <i class="fas fa-calendar"></i>
                                ${formatDate(news.date)}
                            </span>
                            <span class="news-views">
                                <i class="fas fa-eye"></i>
                                ${news.views} ko'rishlar
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');

            displayPagination(newsToShow.length);
        }

        // Display pagination
        function displayPagination(totalNews) {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(totalNews / newsPerPage);

            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';

            let paginationHTML = '';

            // Previous button
            paginationHTML += `
                <button onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    <i class="fas fa-chevron-left"></i>
                </button>
            `;

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage || i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    paginationHTML += `
                        <button onclick="changePage(${i})" ${i === currentPage ? 'class="active"' : ''}>
                            ${i}
                        </button>
                    `;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    paginationHTML += '<span>...</span>';
                }
            }

            // Next button
            paginationHTML += `
                <button onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    <i class="fas fa-chevron-right"></i>
                </button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        // Change page
        function changePage(page) {
            const totalNews = filteredNews.slice(1).length; // Exclude featured
            const totalPages = Math.ceil(totalNews / newsPerPage);
            
            if (page < 1 || page > totalPages) return;
            
            currentPage = page;
            displayNews();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function filterNews() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const sortBy = document.getElementById('sortFilter').value;

            filteredNews = allNews.filter(news => {
                const matchesSearch = news.title.toLowerCase().includes(searchTerm) || 
                                    news.content.toLowerCase().includes(searchTerm);
                const matchesCategory = !category || news.category === category;
                return matchesSearch && matchesCategory;
            });

            switch (sortBy) {
                case 'newest':
                    filteredNews.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'oldest':
                    filteredNews.sort((a, b) => new Date(a.date) - new Date(b.date));
                    break;
                case 'popular':
                    filteredNews.sort((a, b) => b.views - a.views);
                    break;
            }

            currentPage = 1;
            displayFeaturedNews();
            displayNews();
        }

        // Read more function
        function readMore(newsId) {
            const news = allNews.find(n => n.id === newsId);
            if (news) {
                news.views++;
                localStorage.setItem('news', JSON.stringify(allNews));
                
                // Show full news (you can implement modal or redirect to detail page)
                showNewsModal(news);
            }
        }

        function showNewsModal(news) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                padding: 20px;
            `;

            modal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 15px;
                    max-width: 800px;
                    max-height: 90vh;
                    overflow-y: auto;
                    position: relative;
                ">
                    <button onclick="this.closest('div').remove()" style="
                        position: absolute;
                        top: 15px;
                        right: 15px;
                        background: none;
                        border: none;
                        font-size: 24px;
                        cursor: pointer;
                        z-index: 1001;
                        color: #666;
                    ">&times;</button>
                    
                    <img src="${news.image}" alt="${news.title}" style="
                        width: 100%;
                        height: 300px;
                        object-fit: cover;
                        border-radius: 15px 15px 0 0;
                    ">
                    
                    <div style="padding: 30px;">
                        <span class="news-category category-${news.category}" style="margin-bottom: 15px; display: inline-block;">
                            ${getCategoryIcon(news.category)} ${getCategoryName(news.category)}
                        </span>
                        
                        <h2 style="font-size: 1.8rem; margin-bottom: 15px; color: #2c3e50;">
                            ${news.title}
                        </h2>
                        
                        <div style="display: flex; gap: 20px; margin-bottom: 20px; color: #6c757d; font-size: 14px;">
                            <span><i class="fas fa-calendar"></i> ${formatDate(news.date)}</span>
                            <span><i class="fas fa-user"></i> ${news.author}</span>
                            <span><i class="fas fa-eye"></i> ${news.views} ko'rishlar</span>
                        </div>
                        
                        <div style="line-height: 1.8; color: #333; font-size: 16px;">
                            ${news.content}
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        function getCategoryIcon(category) {
            const icons = {
                elon: 'ðŸ“¢',
                tadbir: 'ðŸŽ‰',
                talim: 'ðŸ«',
                sport: 'âš½',
                texnologiya: 'ðŸ’»'
            };
            return icons[category] || 'ðŸ“°';
        }

        function getCategoryName(category) {
            const names = {
                elon: "E'lonlar",
                tadbir: 'Tadbirlar',
                talim: "Ta'lim",
                sport: 'Sport',
                texnologiya: 'Texnologiya'
            };
            return names[category] || 'Boshqa';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            return date.toLocaleDateString('uz-UZ', options);
        }

        function truncateText(text, maxLength) {
            if (text.length <= maxLength) return text;
            return text.substr(0, maxLength) + '...';
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'flex';
            document.getElementById('newsGrid').style.display = 'none';
            document.getElementById('featuredNews').style.display = 'none';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        setInterval(() => {
            const currentNewsData = localStorage.getItem('news');
            if (currentNewsData) {
                const newNews = JSON.parse(currentNewsData).filter(news => news.published);
                if (JSON.stringify(newNews) !== JSON.stringify(allNews)) {
                    allNews = newNews;
                    filterNews();
                }
            }
        }, 30000);
