        // Translations
        const translations = {
            uz: {
              'title': 'PIIMA - Iqtisoslashtirilgan Ta\'lim Muassasalari Agentligi',
              'nav-about': 'Agentlik haqida',
              'nav-leadership': 'Rahbariyat',
              'nav-structure': 'Tashkiliy tuzilma',
              'nav-duties': 'Vazifa va funksiyalar',
              'nav-documents': 'Hujjatlar',
              'nav-laws': 'Qonunlar',
              'nav-decisions': 'Qarorlar',
              'nav-regulations': 'Nizomlar',
              'nav-activity': 'Faoliyat',
              'nav-youth': 'Yoshlar siyosati',
              'nav-news': 'Axborot xizmati',
              'nav-news-list': 'Yangiliklar',
              'nav-announcements': 'E\'lonlar',
              'nav-media': 'Media',
              'nav-opendata': 'Ochiq ma\'lumotlar',
              'nav-contact': 'Bog\'lanish',
              'search-placeholder': 'Qidirish...',
              'stat-president': 'Prezident maktablarda',
              'stat-creative': 'Ijod maktablarida',
              'stat-specialized': 'Ixtisoslashgan maktablarda',
              'stat-participants': 'Olimpiada qatnashganlar',
              'stat-winners': 'Olimpiada g\'oliblari',
              'stat-students': 'nafar o\'quvchilar',
              'news-title': 'So\'nggi yangiliklar',
              'news-all': 'Barcha yangiliklar',
              'news1-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news1-content': 'Yangi Namangan tumani Ixtisoslashgan maktabning 10-sinf o\'quvchisi Botirsherov Abdulatif Bilim va malakalarni baholash agentligi tomonidan o\'tkazilgan chet tilini bilish darajasi sinovida (ingliz tili) ishtirok etib C1 darajasini qo\'lga kiritdi.',
              'news2-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news2-content': 'Maktabimizning 7-01-sinf o\'quvchisi Kamolboyeva Gulsanam Bilim va malakalarni baholash agentligi tomonidan o\'tkazilgan chet tilini bilish darajasi sinovida (ingliz tili) ishtirok etib B2 darajasini qo\'lga kiritdi.',
              'news3-title': 'Yangi Namangan tumani Ixtisoslashgan maktab.',
              'news3-content': 'Maktabimizning 7-01 sinf o\'quvchisi Muradullayev Zikrullo IELTS imtihonini muvafaqqiyatli topshirib 6.5 ball egasiga aylandi. Zikrullo hali yosh bo\'lishiga qaramay, o\'z oldiga ulkan marralarni qo\'ygan o\'quvchilarimizdan biri hisoblanadi.',
              'read-more': 'Batafsil',
              'schools-title': 'Bizning maktablar',
              'school1-title': 'Prezident maktablari',
              'school1-desc': 'Iqtidorli o\'quvchilar uchun zamonaviy ta\'lim standartlari asosida faoliyat yurituvchi maktablar.',
              'school2-title': 'Ijod maktablari',
              'school2-desc': 'San\'at va madaniyat sohasida iqtidorli yoshlarni qo\'llab-quvvatlash uchun tashkil etilgan maktablar.',
              'school3-title': 'Ixtisoslashgan maktablar',
              'school3-desc': 'Aniq va tabiiy fanlar bo\'yicha chuqurlashtirilgan ta\'lim beruvchi maktablar.',
              'events-title': 'Tadbirlar va e\'lonlar',
              'events-all': 'Barcha tadbirlar',
              'event1-title': 'Ochiq eshiklar kuni',
              'event1-location': 'Yangi Namangan tumani',
              'event1-desc': 'Bugun eshiklarimiz siz uchun ochiq! Ta\'lim maskanimiz bilan yaqindan tanishing, biz bilan kelajak sari birga yuring!',
              'event2-title': 'Maktab bitiruv kuni',
              'event2-location': 'Barcha maktablarda',
              'event2-desc': 'Barcha maktablarida bitiruv kuni 23-May kuni deb e\'lon qilindi. Hamma maktablada bitiruv 23-May kuni bo\'ladi',
              'event3-title': 'Xalqaro bolalar kuni',
              'event3-location': 'Respublika bo\'ylab',
              'event3-desc': 'Xalqaro bolalar kuniga bag\'ishlangan tadbirlar barcha ixtisoslashgan maktablarda tashkil etiladi.',
              'footer-title1': 'IXTISOSLASHTIRILGAN',
              'footer-title2': 'TA\'LIM MUASSASALARI',
              'footer-title3': 'AGENTLIGI MAKTABI',
              'footer-schedule': 'Ish grafigi va O\'qish grafigi:',
              'footer-workdays': 'Dushanba – juma: 8:30 – 17:30',
              'footer-lunch': 'Tushlik: 13:00 – 14:00',
              'footer-weekend': 'Dam olish kunlari: shanba va yakshanba',
              'footer-terms': 'Ma\'lumotdan foydalanish shartlari',
              'footer-bank': 'Bank rekvizitlari',
              'footer-copyright': 'Materialdan to\'liq yoki qisman foydalanilganda, piima.uz manbasi ko\'rsatilishi shart.',
              'footer-contact': 'Aloqa ma\'lumotlari:',
              'footer-address': 'Namnagan shaxri Yangi Namangan tumani',
              'footer-trust': 'Ishonch telefoni:',
              'footer-question': 'Savol yo\'llash',
              'footer-email': 'Pochtangizni kiriting',
              'footer-subscribe': 'Obuna bo\'lish',
              'footer-facebook': '"Facebook"dagi sahifa',
              'footer-telegram': '"Telegram"dagi kanal',
              'footer-feedback': 'Qayta aloqa',
              'footer-instagram': '"Instagram"dagi kanal',
              'footer-youtube': '"Youtube"dagi kanal',
              'notification-text': 'Bizga xabar yuboring',
              'modal-title': 'Savol yo\'llash',
              'modal-name': 'Ismingiz:',
              'modal-email': 'Email:',
              'modal-phone': 'Telefon raqamingiz:',
              'modal-message': 'Xabaringiz:',
              'modal-agree': 'Shaxsiy ma\'lumotlarni qayta ishlashga roziman',
              'modal-send': 'Telegram botga yuborish',
              'subscribe-title': 'Yangiliklarimizga obuna bo\'ling',
              'toast-success': 'Muvaffaqiyatli yuborildi!',
              'cookie-text': 'Ushbu sayt cookie-fayllardan foydalanadi. Saytdan foydalanishni davom ettirish orqali siz cookie-fayllardan foydalanishga rozilik bildirasiz.',
              'cookie-accept': 'Qabul qilish'
            },
            ru: {
              'title': 'ПИИМА - Агентство специализированных образовательных учреждений',
              'nav-about': 'Об агентстве',
              'nav-leadership': 'Руководство',
              'nav-structure': 'Организационная структура',
              'nav-duties': 'Задачи и функции',
              'nav-documents': 'Документы',
              'nav-laws': 'Законы',
              'nav-decisions': 'Решения',
              'nav-regulations': 'Положения',
              'nav-activity': 'Деятельность',
              'nav-youth': 'Молодежная политика',
              'nav-news': 'Информационная служба',
              'nav-news-list': 'Новости',
              'nav-announcements': 'Объявления',
              'nav-media': 'Медиа',
              'nav-opendata': 'Открытые данные',
              'nav-contact': 'Контакты',
              'search-placeholder': 'Поиск...',
              'stat-president': 'В президентских школах',
              'stat-creative': 'В творческих школах',
              'stat-specialized': 'В специализированных школах',
              'stat-participants': 'Участники олимпиад',
              'stat-winners': 'Победители олимпиад',
              'stat-students': 'учеников',
              'news-title': 'Последние новости',
              'news-all': 'Все новости',
              'news1-title': 'Специализированная школа Янги Наманганского района.',
              'news1-content': 'Ученик 10 класса специализированной школы Янги Наманганского района Ботиршеров Абдулатиф принял участие в тестировании уровня знания иностранного языка (английский язык), проводимом Агентством оценки знаний и навыков, и получил уровень C1.',
              'news2-title': 'Специализированная школа Янги Наманганского района.',
              'news2-content': 'Ученица 7-01 класса нашей школы Камолбоева Гульсанам приняла участие в тестировании уровня знания иностранного языка (английский язык), проводимом Агентством оценки знаний и навыков, и получила уровень B2.',
              'news3-title': 'Специализированная школа Янги Наманганского района.',
              'news3-content': 'Ученик 7-01 класса нашей школы Мурадуллаев Зикрулло успешно сдал экзамен IELTS и получил 6.5 баллов. Зикрулло, несмотря на свой юный возраст, является одним из наших учеников, поставивших перед собой большие цели.',
              'read-more': 'Подробнее',
              'schools-title': 'Наши школы',
              'school1-title': 'Президентские школы',
              'school1-desc': 'Школы, работающие на основе современных образовательных стандартов для талантливых учеников.',
              'school2-title': 'Творческие школы',
              'school2-desc': 'Школы, созданные для поддержки талантливой молодежи в области искусства и культуры.',
              'school3-title': 'Специализированные школы',
              'school3-desc': 'Школы, обеспечивающие углубленное образование по точным и естественным наукам.',
              'events-title': 'Мероприятия и объявления',
              'events-all': 'Все мероприятия',
              'event1-title': 'День открытых дверей',
              'event1-location': 'Янги Наманганский район',
              'event1-desc': 'Сегодня наши двери открыты для вас! Познакомьтесь поближе с нашим образовательным учреждением, идите с нами в будущее!',
              'event2-title': 'День выпуска школы',
              'event2-location': 'Во всех школах',
              'event2-desc': 'День выпуска во всех школах объявлен на 23 мая. Выпуск во всех школах состоится 23 мая',
              'event3-title': 'Международный день детей',
              'event3-location': 'По всей республике',
              'event3-desc': 'Мероприятия, посвященные Международному дню детей, будут организованы во всех специализированных школах.',
              'footer-title1': 'СПЕЦИАЛИЗИРОВАННЫХ',
              'footer-title2': 'ОБРАЗОВАТЕЛЬНЫХ УЧРЕЖДЕНИЙ',
              'footer-title3': 'АГЕНТСТВО ШКОЛЫ',
              'footer-schedule': 'График работы и учебы:',
              'footer-workdays': 'Понедельник – пятница: 8:30 – 17:30',
              'footer-lunch': 'Обед: 13:00 – 14:00',
              'footer-weekend': 'Выходные дни: суббота и воскресенье',
              'footer-terms': 'Условия использования информации',
              'footer-bank': 'Банковские реквизиты',
              'footer-copyright': 'При полном или частичном использовании материала обязательно указание источника piima.uz.',
              'footer-contact': 'Контактная информация:',
              'footer-address': 'г. Наманган, Янги Наманганский район',
              'footer-trust': 'Телефон доверия:',
              'footer-question': 'Отправить вопрос',
              'footer-email': 'Введите ваш email',
              'footer-subscribe': 'Подписаться',
              'footer-facebook': 'Страница в "Facebook"',
              'footer-telegram': 'Канал в "Telegram"',
              'footer-feedback': 'Обратная связь',
              'footer-instagram': 'Канал в "Instagram"',
              'footer-youtube': 'Канал в "Youtube"',
              'notification-text': 'Отправьте нам сообщение',
              'modal-title': 'Отправить вопрос',
              'modal-name': 'Ваше имя:',
              'modal-email': 'Email:',
              'modal-phone': 'Ваш номер телефона:',
              'modal-message': 'Ваше сообщение:',
              'modal-agree': 'Согласен на обработку персональных данных',
              'modal-send': 'Отправить в Telegram бот',
              'subscribe-title': 'Подпишитесь на наши новости',
              'toast-success': 'Успешно отправлено!',
              'cookie-text': 'Этот сайт использует файлы cookie. Продолжая использовать сайт, вы соглашаетесь на использование файлов cookie.',
              'cookie-accept': 'Принять'
            },
            en: {
              'title': 'PIIMA - Agency of Specialized Educational Institutions',
              'nav-about': 'About Agency',
              'nav-leadership': 'Leadership',
              'nav-structure': 'Organizational Structure',
              'nav-duties': 'Duties and Functions',
              'nav-documents': 'Documents',
              'nav-laws': 'Laws',
              'nav-decisions': 'Decisions',
              'nav-regulations': 'Regulations',
              'nav-activity': 'Activity',
              'nav-youth': 'Youth Policy',
              'nav-news': 'Information Service',
              'nav-news-list': 'News',
              'nav-announcements': 'Announcements',
              'nav-media': 'Media',
              'nav-opendata': 'Open Data',
              'nav-contact': 'Contact',
              'search-placeholder': 'Search...',
              'stat-president': 'In Presidential Schools',
              'stat-creative': 'In Creative Schools',
              'stat-specialized': 'In Specialized Schools',
              'stat-participants': 'Olympiad Participants',
              'stat-winners': 'Olympiad Winners',
              'stat-students': 'students',
              'news-title': 'Latest News',
              'news-all': 'All News',
              'news1-title': 'Yangi Namangan District Specialized School.',
              'news1-content': '10th grade student of Yangi Namangan District Specialized School Botirsherov Abdulatif participated in the foreign language proficiency test (English) conducted by the Knowledge and Skills Assessment Agency and achieved C1 level.',
              'news2-title': 'Yangi Namangan District Specialized School.',
              'news2-content': '7-01 grade student of our school Kamolboyeva Gulsanam participated in the foreign language proficiency test (English) conducted by the Knowledge and Skills Assessment Agency and achieved B2 level.',
              'news3-title': 'Yangi Namangan District Specialized School.',
              'news3-content': '7-01 grade student of our school Muradullayev Zikrullo successfully passed the IELTS exam and scored 6.5 points. Despite his young age, Zikrullo is one of our students who has set great goals for himself.',
              'read-more': 'Read More',
              'schools-title': 'Our Schools',
              'school1-title': 'Presidential Schools',
              'school1-desc': 'Schools operating on the basis of modern educational standards for talented students.',
              'school2-title': 'Creative Schools',
              'school2-desc': 'Schools established to support talented youth in the field of arts and culture.',
              'school3-title': 'Specialized Schools',
              'school3-desc': 'Schools providing in-depth education in exact and natural sciences.',
              'events-title': 'Events and Announcements',
              'events-all': 'All Events',
              'event1-title': 'Open Doors Day',
              'event1-location': 'Yangi Namangan District',
              'event1-desc': 'Today our doors are open for you! Get acquainted with our educational institution, go to the future with us!',
              'event2-title': 'School Graduation Day',
              'event2-location': 'In all schools',
              'event2-desc': 'Graduation day in all schools is announced for May 23. Graduation in all schools will be on May 23',
              'event3-title': 'International Children\'s Day',
              'event3-location': 'Throughout the republic',
              'event3-desc': 'Events dedicated to International Children\'s Day will be organized in all specialized schools.',
              'footer-title1': 'SPECIALIZED',
              'footer-title2': 'EDUCATIONAL INSTITUTIONS',
              'footer-title3': 'AGENCY SCHOOL',
              'footer-schedule': 'Work and Study Schedule:',
              'footer-workdays': 'Monday – Friday: 8:30 – 17:30',
              'footer-lunch': 'Lunch: 13:00 – 14:00',
              'footer-weekend': 'Weekends: Saturday and Sunday',
              'footer-terms': 'Terms of Information Use',
              'footer-bank': 'Bank Details',
              'footer-copyright': 'When using the material in full or in part, it is mandatory to indicate the source piima.uz.',
              'footer-contact': 'Contact Information:',
              'footer-address': 'Namangan city, Yangi Namangan district',
              'footer-trust': 'Trust Phone:',
              'footer-question': 'Send Question',
              'footer-email': 'Enter your email',
              'footer-subscribe': 'Subscribe',
              'footer-facebook': '"Facebook" page',
              'footer-telegram': '"Telegram" channel',
              'footer-feedback': 'Feedback',
              'footer-instagram': '"Instagram" channel',
              'footer-youtube': '"Youtube" channel',
              'notification-text': 'Send us a message',
              'modal-title': 'Send Question',
              'modal-name': 'Your Name:',
              'modal-email': 'Email:',
              'modal-phone': 'Your Phone Number:',
              'modal-message': 'Your Message:',
              'modal-agree': 'I agree to the processing of personal data',
              'modal-send': 'Send to Telegram Bot',
              'subscribe-title': 'Subscribe to Our News',
              'toast-success': 'Successfully sent!',
              'cookie-text': 'This site uses cookies. By continuing to use the site, you consent to the use of cookies.',
              'cookie-accept': 'Accept'
            }
          };
          
          // Current language and theme
          let currentLang = 'uz';
          let isDarkTheme = false;
          
          document.addEventListener("DOMContentLoaded", () => {
            // Initialize theme
            initializeTheme();
            
            // Initialize language
            initializeLanguage();
            
            // Statistika raqamlarini animatsiya qilish
            function animateValue(id, start, end, duration) {
              const obj = document.getElementById(id)
              if (!obj) return
          
              let startTimestamp = null
              const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp
                const progress = Math.min((timestamp - startTimestamp) / duration, 1)
                obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString("en-US")
                if (progress < 1) {
                  window.requestAnimationFrame(step)
                }
              }
              window.requestAnimationFrame(step)
            }
          
            // Statistikalarni animatsiya qilish
            function startCountAnimation() {
              animateValue("stat1", 0, 2352, 2000)
              animateValue("stat2", 0, 1849, 2000)
              animateValue("stat3", 0, 67454, 2000)
              animateValue("stat4", 0, 42970, 2000)
              animateValue("stat5", 0, 150, 2000)
            }
          
            // Sahifa yuklanganda statistikalarni animatsiya qilish
            startCountAnimation()
          
            // Hero slider
            const Swiper = window.Swiper
            if (Swiper) {
              const heroSwiper = new Swiper(".hero-slider", {
                effect: "fade",
                speed: 1000,
                autoplay: {
                  delay: 5000,
                },
                pagination: {
                  el: ".hero-slider .swiper-pagination",
                  clickable: true,
                },
                navigation: {
                  nextEl: ".hero-slider .swiper-button-next",
                  prevEl: ".hero-slider .swiper-button-prev",
                },
              })
          
              // Tadbirlar slider
              const eventsSwiper = new Swiper(".events-slider", {
                slidesPerView: 1,
                spaceBetween: 20,
                pagination: {
                  el: ".events-slider .swiper-pagination",
                  clickable: true,
                },
                breakpoints: {
                  768: {
                    slidesPerView: 2,
                  },
                  992: {
                    slidesPerView: 3,
                  },
                },
              })
            }
          
            // Theme Toggle
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
              themeToggle.addEventListener('click', toggleTheme);
            }
          
            function initializeTheme() {
              const savedTheme = localStorage.getItem('theme');
              if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.documentElement.setAttribute('data-theme', 'dark');
                updateThemeIcon();
              }
            }
          
            function toggleTheme() {
              isDarkTheme = !isDarkTheme;
              if (isDarkTheme) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
              } else {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
              }
              updateThemeIcon();
            }
          
            function updateThemeIcon() {
              const themeIcon = themeToggle.querySelector('i');
              if (themeIcon) {
                if (isDarkTheme) {
                  themeIcon.className = 'fas fa-sun';
                } else {
                  themeIcon.className = 'fas fa-moon';
                }
              }
            }
          
            // Language System
            function initializeLanguage() {
              const savedLang = localStorage.getItem('language') || 'uz';
              currentLang = savedLang;
              updateLanguage();
              updateActiveLanguage();
            }
          
            function updateLanguage() {
              const elements = document.querySelectorAll('[data-key]');
              elements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[currentLang] && translations[currentLang][key]) {
                  if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translations[currentLang][key];
                  } else {
                    element.textContent = translations[currentLang][key];
                  }
                }
              });
              
              // Update document title
              document.title = translations[currentLang]['title'];
              
              // Update HTML lang attribute
              document.documentElement.lang = currentLang;
            }
          
            function updateActiveLanguage() {
              const languageLinks = document.querySelectorAll('[data-lang]');
              languageLinks.forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-lang') === currentLang);
              });
            }
          
            // Language switching
            const languageLinks = document.querySelectorAll("[data-lang]");
            languageLinks.forEach((link) => {
              link.addEventListener("click", function (e) {
                e.preventDefault();
                const selectedLang = this.getAttribute("data-lang");
                if (selectedLang !== currentLang) {
                  currentLang = selectedLang;
                  updateLanguage();
                  updateActiveLanguage();
                  localStorage.setItem('language', currentLang);
                }
              });
            });
          
            // Scroll effektlari
            window.addEventListener("scroll", () => {
              const header = document.getElementById("main-header")
              if (header) {
                if (window.scrollY > 50) {
                  header.classList.add("scrolled")
          
                  // Menu icon rangini o'zgartirish
                  const menuIconSpans = document.querySelectorAll(".menu-icon span")
                  menuIconSpans.forEach((span) => {
                    span.style.background = isDarkTheme ? "#f9fafb" : "#333"
                  })
                } else {
                  header.classList.remove("scrolled")
          
                  // Menu icon rangini qaytarish
                  const menuIconSpans = document.querySelectorAll(".menu-icon span")
                  menuIconSpans.forEach((span) => {
                    span.style.background = "#fff"
                  })
                }
              }
            })
          
            // Mobil menyu
            const menuIcon = document.getElementById("mobile-menu-toggle")
            const mobileMenu = document.querySelector(".mobile-menu")
          
            if (menuIcon && mobileMenu) {
              menuIcon.addEventListener("click", function () {
                this.classList.toggle("active")
                mobileMenu.classList.toggle("active")
              })
            }
          
            // Qidiruv
            const searchToggle = document.getElementById("search-toggle")
            const searchOverlay = document.querySelector(".search-overlay")
            const closeSearch = document.querySelector(".close-search")
          
            if (searchToggle && searchOverlay) {
              searchToggle.addEventListener("click", (e) => {
                e.preventDefault()
                searchOverlay.classList.add("active")
                const searchInput = document.querySelector(".search-container input")
                if (searchInput) {
                  searchInput.focus()
                }
              })
            }
          
            if (closeSearch && searchOverlay) {
              closeSearch.addEventListener("click", () => {
                searchOverlay.classList.remove("active")
              })
            }
          
            // Esc tugmasi bosilganda qidiruv oynasini yopish
            document.addEventListener("keydown", (e) => {
              if (e.key === "Escape" && searchOverlay && searchOverlay.classList.contains("active")) {
                searchOverlay.classList.remove("active")
              }
            })
          
            // Scroll down tugmasi
            const scrollDownBtn = document.querySelector(".scroll-down a")
            if (scrollDownBtn) {
              scrollDownBtn.addEventListener("click", function (e) {
                e.preventDefault()
                const targetId = this.getAttribute("href")
                const targetElement = document.querySelector(targetId)
          
                if (targetElement) {
                  window.scrollTo({
                    top: targetElement.offsetTop,
                    behavior: "smooth",
                  })
                }
              })
            }
          
            // Cookie notice
            const cookieNotice = document.getElementById("cookie-notice")
            const acceptCookiesBtn = document.getElementById("accept-cookies")
          
            // Cookie-ni tekshirish
            if (cookieNotice && !localStorage.getItem("cookiesAccepted")) {
              cookieNotice.style.display = "block"
            }
          
            if (acceptCookiesBtn && cookieNotice) {
              acceptCookiesBtn.addEventListener("click", () => {
                localStorage.setItem("cookiesAccepted", "true")
                cookieNotice.style.display = "none"
              })
            }
          
            // Modal functionality
            const contactBtn = document.getElementById("contactBtn");
            const emailBtn = document.getElementById("emailBtn");
            const subscribeBtn = document.getElementById("subscribeBtn");
            const contactModal = document.getElementById("contactModal");
            const subscribeModal = document.getElementById("subscribeModal");
            const closeModal = document.getElementById("closeModal");
            const closeSubscribeModal = document.getElementById("closeSubscribeModal");
            const notificationBar = document.getElementById("notificationBar");
            const closeNotification = document.getElementById("closeNotification");
            const contactForm = document.getElementById("contactForm");
            const subscribeForm = document.getElementById("subscribeForm");
            const toast = document.getElementById("toast");
          
            // Telegram bot settings
            const TELEGRAM_BOT_TOKEN = "7012510583:AAEjIGP-LqL75etZYOEBnvRFy_K5VAmQw3c";
            const TELEGRAM_CHAT_ID = "7116193043";
          
            // Show modals
            if (contactBtn && contactModal) {
              contactBtn.addEventListener("click", () => {
                contactModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (emailBtn && subscribeModal) {
              emailBtn.addEventListener("click", () => {
                subscribeModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (subscribeBtn && subscribeModal) {
              subscribeBtn.addEventListener("click", () => {
                subscribeModal.style.display = "block";
                document.body.style.overflow = "hidden";
              });
            }
          
            if (notificationBar && contactModal && closeNotification) {
              notificationBar.addEventListener("click", (e) => {
                if (e.target !== closeNotification) {
                  contactModal.style.display = "block";
                  document.body.style.overflow = "hidden";
                }
              });
            }
          
            // Close modals
            if (closeModal && contactModal) {
              closeModal.addEventListener("click", () => {
                contactModal.style.display = "none";
                document.body.style.overflow = "auto";
              });
            }
          
            if (closeSubscribeModal && subscribeModal) {
              closeSubscribeModal.addEventListener("click", () => {
                subscribeModal.style.display = "none";
                document.body.style.overflow = "auto";
              });
            }
          
            if (closeNotification && notificationBar) {
              closeNotification.addEventListener("click", (e) => {
                e.stopPropagation();
                notificationBar.style.display = "none";
              });
            }
          
            // Close modals when clicking outside
            window.addEventListener("click", (e) => {
              if (contactModal && e.target === contactModal) {
                contactModal.style.display = "none";
                document.body.style.overflow = "auto";
              }
              if (subscribeModal && e.target === subscribeModal) {
                subscribeModal.style.display = "none";
                document.body.style.overflow = "auto";
              }
            });
          
            // Form submissions
            if (contactForm) {
              contactForm.addEventListener("submit", (e) => {
                e.preventDefault();
          
                const nameInput = document.getElementById("name");
                const emailInput = document.getElementById("email");
                const messageInput = document.getElementById("message");
                const phoneInput = document.getElementById("phone");
          
                if (nameInput && emailInput && messageInput) {
                  const name = nameInput.value;
                  const email = emailInput.value;
                  const message = messageInput.value;
                  const phone = phoneInput ? phoneInput.value : '';
          
                  sendToTelegramBot(name, email, phone, message)
                    .then((success) => {
                      if (success) {
                        contactForm.reset();
                        if (contactModal) {
                          contactModal.style.display = "none";
                          document.body.style.overflow = "auto";
                        }
                        showToast(translations[currentLang]['toast-success']);
                      } else {
                        showToast("Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.");
                      }
                    })
                    .catch((error) => {
                      console.error("Error sending to Telegram:", error);
                      showToast("Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.");
                    });
                }
              });
            }
          
            async function sendToTelegramBot(name, email, phone, message) {
              try {
                const text = `📨 Yangi savol:\n\n👤 Ism: ${name}\n📧 Email: ${email}\n📱 Telefon: ${phone || "Ko'rsatilmagan"}\n\n💬 Xabar:\n${message}`;
                const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
          
                const response = await fetch(url, {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                  },
                  body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: text,
                    parse_mode: "HTML",
                  }),
                });
          
                const data = await response.json();
                return data.ok === true;
              } catch (error) {
                console.error("Error sending to Telegram:", error);
                return false;
              }
            }
          
            if (subscribeForm) {
              subscribeForm.addEventListener("submit", (e) => {
                e.preventDefault();
                const subscriberEmailInput = document.getElementById("subscriberEmail");
                if (subscriberEmailInput) {
                  const email = subscriberEmailInput.value;
                  console.log("Subscribe Form Submitted:", { email });
                  subscribeForm.reset();
                  if (subscribeModal) {
                    subscribeModal.style.display = "none";
                    document.body.style.overflow = "auto";
                  }
                  showToast("Siz muvaffaqiyatli obuna bo'ldingiz!");
                }
              });
            }
          
            function showToast(message) {
              if (toast) {
                const toastMessage = document.getElementById("toast-message");
                if (toastMessage) {
                  toastMessage.textContent = message;
                }
                toast.style.transform = "translateX(-50%) translateY(0)";
                toast.style.opacity = "1";
                setTimeout(() => {
                  toast.style.transform = "translateX(-50%) translateY(100px)";
                  toast.style.opacity = "0";
                }, 3000);
              }
            }
          
            // Responsive design for footer
            function adjustFooterLayout() {
              const footer = document.querySelector('footer > div:last-child > div');
              if (footer && window.innerWidth <= 768) {
                footer.style.gridTemplateColumns = '1fr';
                footer.style.gap = '30px';
              } else if (footer) {
                footer.style.gridTemplateColumns = '1fr 1fr 1fr';
                footer.style.gap = '40px';
              }
            }
          
            window.addEventListener('resize', adjustFooterLayout);
            adjustFooterLayout();
          });
          